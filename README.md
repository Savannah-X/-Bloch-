# -Bloch-
2024 BUPT 智能影像实验 磁共振Bloch方程模拟实验
# 磁共振实验 README

## 一、实验目的
本实验旨在理解磁共振布洛赫方程所描述的磁化矢量在磁场中的动态变化过程，并通过模拟实验获取在静磁场和射频场作用下的磁共振信号演化。

## 二、实验原理
布洛赫方程是描述磁化矢量在磁场中运动的基本方程，形式如下：

\[ 
\frac{dM}{dt} = \gamma M \times B - \frac{M - M_0}{T_1} 
\]

其中，\( M \) 是磁化矢量，\( B \) 是总磁场，\( \gamma \) 是旋进频率，\( T_1 \) 是纵向弛豫时间。

## 三、实验材料和工具
- **软件工具**：MATLAB、Python或其他科学计算软件。
- **硬件要求**：一台性能良好的计算机，具备足够的内存和处理能力来运行模拟实验。

## 四、实验步骤

### 1. 调研不同组织的磁共振特性参数 (20分)
调研在3T（特斯拉）下，以下不同组织的磁共振特性参数。这些参数是构建布洛赫方程模型的关键要素，不同的参数取值将影响磁化矢量的动态变化过程。

| 组织      | T1 (s) | T2 (s) |
|-----------|--------|--------|
| 脑白质    | 1      | 0.07   |
| 脑灰质    | 1.5    | 0.1    |
| 脑脊液    | 3      | 0.3    |

### 2. 模拟磁场和布洛赫方程 (30分)
- **总磁场**：  
  \( B = \text{静磁场} \, (\text{向量} \, [0,0,3]) + \text{射频场} \, (\text{垂直于静磁场的脉冲，作用时间} \, [0, 1e-6] \, \text{s}) \)

- **初始磁化矢量**：  
  根据当前时间 \( t \)，磁化矢量 \( M \) 和总磁场 \( B \)，计算磁化矢量变化率 \( dM_x, dM_y, dM_z \)。

### 3. 迭代求解布洛赫方程 (30分)
- 从初始时间开始，根据布洛赫方程，使用迭代的方法计算每个时间步长下磁化矢量各分量在每个空间位置的值。在每次迭代中，根据当前时间步长的磁化矢量值和磁场值，计算下一个时间步长的磁化矢量值。

- 按照上述方式，依次计算每个时间步长下的磁化矢量值，直到达到设定的最终时间。

### 4. 结果分析 (20分)
- 针对射频脉冲作用期间（0到1e-6秒），分析 \( M_x \) 曲线上升的原因。
- 针对射频脉冲作用结束后，分析 \( M_x, M_y \) 和 \( M_z \) 曲线变化的原因。

## 五、实验总结
分析不同组织（脑脊液、白质和灰质）参数对结果的影响，思考医学磁共振成像在脑疾病中的应用基础。

## 六、补充材料
- [Bloch 方程数值求解](https://dxwl.bnu.edu.cn/CN/10.16854%2520/j.cnki.1000-0712.170382)
